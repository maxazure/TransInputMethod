# Release Notes - v1.0.1

**Release Date**: December 22, 2024  
**Type**: Bug Fix Release  
**Priority**: Critical  

## üö® Critical Bug Fixes

### Global Hotkey System Fixed
The most critical issue preventing users from accessing the floating translation window has been resolved:

- **Issue**: `Shift+Enter` global hotkey was not working due to improper window handle registration
- **Solution**: Added hidden form to provide valid window handle for global hotkey system
- **Impact**: Users can now successfully press `Shift+Enter` from any application to open the translation window

### Hotkey Detection Logic Improved
Enhanced the key combination detection algorithm:

- **Fixed**: Modifier key detection now properly recognizes left/right variants (LCtrl/RCtrl, LShift/RShift, etc.)
- **Fixed**: Combination matching now correctly validates exact modifier requirements
- **Fixed**: Eliminated false triggers from extra modifier keys

## ‚ú® New Interactive Hotkey Settings

### Smart Hotkey Capture
Replaced the previous read-only hotkey display with fully interactive controls:

- **Click & Set**: Click any hotkey input field and press your desired key combination
- **Visual Feedback**: Input fields turn yellow when ready to capture hotkeys
- **Real-time Display**: Key combinations are immediately shown in user-friendly format
- **Validation**: Automatic checking for valid hotkey combinations

### Enhanced User Experience
- **Intuitive Interface**: No more manual typing of key combinations
- **Error Prevention**: Cannot set invalid or conflicting hotkey combinations
- **Immediate Save**: Hotkey changes take effect immediately after saving settings
- **Better Tooltips**: Clear instructions on how to set custom hotkeys

## üîß Technical Improvements

### API Compatibility
- **Updated**: OpenAI API calls now include proper `User-Agent` header
- **Enhanced**: Better error handling for API communication
- **Maintained**: Full backward compatibility with existing configurations

### Code Quality
- **Added**: `HotkeyCapture` utility class for centralized hotkey management
- **Improved**: Separation of concerns between UI and hotkey logic
- **Enhanced**: Better memory management and resource disposal

## üêõ Other Bug Fixes

- Fixed hotkey persistence not saving correctly in some cases
- Improved error messages when hotkey registration fails
- Enhanced stability when multiple instances attempt to register same hotkeys
- Fixed potential memory leaks in global hotkey system

## üîÑ Migration Notes

### For Existing Users
- **No Action Required**: Existing hotkey configurations will continue to work
- **Recommended**: Visit Settings > Hotkey Configuration to test the new interactive hotkey setting
- **Note**: If you experience any hotkey issues, try setting them again using the new interface

### For New Users
- **First Time Setup**: Use the intuitive click-and-press method to set your preferred hotkeys
- **Testing**: Press your configured hotkeys to ensure they work as expected
- **Customization**: Experiment with different combinations to find what works best for your workflow

## üìä Impact Assessment

### Before v1.0.1
- ‚ùå Global hotkeys not working for most users
- ‚ùå Hotkey settings were read-only and confusing
- ‚ùå High user frustration with core functionality

### After v1.0.1
- ‚úÖ Global hotkeys working reliably across all supported systems
- ‚úÖ Intuitive hotkey customization experience
- ‚úÖ Significantly improved user satisfaction and usability

## üîÆ Next Steps

This release focuses on fixing critical functionality issues. Users can now:

1. **Use the core feature**: Press `Shift+Enter` to open translation window from anywhere
2. **Customize hotkeys**: Set personalized key combinations through the improved settings interface
3. **Translate efficiently**: Use `Ctrl+Enter` for translation and copy functionality

## üìû Support

If you continue to experience hotkey issues after updating to v1.0.1:

1. **Restart the application** completely (exit from system tray and restart)
2. **Check hotkey settings** in Settings > Hotkey Configuration
3. **Try different key combinations** if your preferred ones don't work
4. **Report issues** at [GitHub Issues](https://github.com/maxazure/TransInputMethod/issues)

## üôè Acknowledgments

Thank you to all users who reported the hotkey issues. Your feedback was essential in identifying and fixing these critical problems quickly.

---

**Download**: [Latest Release](https://github.com/maxazure/TransInputMethod/releases/latest)  
**Full Changelog**: [CHANGELOG.md](CHANGELOG.md)